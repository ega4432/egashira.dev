---
import BaseLayout from "@layouts/BaseLayout.astro";
import Link from "@components/Link.astro";
import BlogListItem from "@components/BlogListItem.astro";
import { siteMeta } from "@constants";
import { getBlogs } from "@lib/blog";

const latestBlogs = (await getBlogs()).slice(0, 5); // max 5 posts
---

<BaseLayout title={siteMeta.title} description={siteMeta.description}>
  <div class="pb-20 pt-8">
    <p>{`${siteMeta.description} ${siteMeta.author} の Web サイトです。`}</p>
  </div>
  <div>
    <ol class="flex flex-col gap-8">
      {
        latestBlogs.map((blog) => (
          <BlogListItem blog={blog} />
        ))
      }
    </ol>
  </div>
  <div class="pb-8 pt-20">
    <Link href="/blog">すべての記事</Link>
  </div>
</BaseLayout>
